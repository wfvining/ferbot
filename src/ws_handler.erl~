-module(ws_handler).

-export([init/2,
         websocket_init/1,
         websocket_handle/2,
         websocket_info/2]).

-record(state, {port})

init(Req, Opts) ->
    {cowboy_websocket, Req, Opts}.

websocket_init(State) ->
    {ok, State}.

websocket_handle({text, Msg}, State) ->
    Port = undefined,
    % Port = open_port()
    % send a message to the port controlling the robot.
    {ok, #state{ port=Port }}.
